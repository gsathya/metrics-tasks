Here's how you run the censorship detector prototype:

  $ wget https://metrics.torproject.org/csv/direct-users.csv
  $ R --slave -f detect-censorship.R

-------------------------------------------------------------------------

Extracting raw directory requests from the metrics-web database:

- Export dirreq_stats table from the metrics-web database via psql:

  # \f ','
  # \a
  # \t
  # \o dirreqs-sql.csv
  # SELECT * FROM dirreq_stats ORDER BY statsend;
  # \o
  # \t
  # \a

- Transform the huge (!) CSV file (104M) from long to wide format.  Note
  that this takes a while:

  $ R --slave -f convert-dirreqs-sql.R

- The result is in dirreqs.csv (8.8M).

